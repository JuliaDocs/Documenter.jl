<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Hosting Documentation · Documenter.jl</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-89508993-1', 'auto');
ga('send', 'pageview');
</script><link href="https://juliadocs.github.io/Documenter.jl/stable/man/hosting/index.html" rel="canonical"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script data-main="../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This documentation is not for the latest version. <br> <a href="' + href + '">Go to the latest documentation</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><nav class="toc"><a href="../../index.html"><img alt="Documenter.jl logo" class="logo" src="../../assets/logo.svg"/></a><h1>Documenter.jl</h1><select id="version-selector" onchange="window.location.href=this.value" style="visibility: hidden"></select><form action="../../search/" class="search" id="search-form"><input id="search-query" name="q" placeholder="Search docs" type="text"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../guide/">Guide</a></li><li><a class="toctext" href="../examples/">Examples</a></li><li><a class="toctext" href="../syntax/">Syntax</a></li><li><a class="toctext" href="../doctests/">Doctests</a></li><li><a class="toctext" href="../latex/"><span>$\LaTeX$</span> Syntax</a></li><li class="current"><a class="toctext" href="">Hosting Documentation</a><ul class="internal"><li><a class="toctext" href="#Overview-1">Overview</a></li><li><a class="toctext" href="#SSH-Deploy-Keys-1">SSH Deploy Keys</a></li><li><a class="toctext" href="#.travis.yml-Configuration-1"><code>.travis.yml</code> Configuration</a></li><li><a class="toctext" href="#The-deploydocs-Function-1">The <code>deploydocs</code> Function</a></li><li><a class="toctext" href="#.gitignore-1"><code>.gitignore</code></a></li><li><a class="toctext" href="#gh-pages-Branch-1"><code>gh-pages</code> Branch</a></li><li><a class="toctext" href="#Documentation-Versions-1">Documentation Versions</a></li></ul></li><li><a class="toctext" href="../other-formats/">Other Output Formats</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../lib/public/">Public</a></li><li><a class="toctext" href="../../lib/internals/">Internals</a></li></ul></li><li><a class="toctext" href="../../contributing/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="">Hosting Documentation</a></li></ul><a class="edit-page" href="https://github.com/JuliaDocs/Documenter.jl/blob/master/docs/src/man/hosting.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Hosting Documentation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" href="#Hosting-Documentation-1" id="Hosting-Documentation-1">Hosting Documentation</a></h1><p>After going through the <a href="../guide/#Package-Guide-1">Package Guide</a> and <a href="../doctests/#Doctests-1">Doctests</a> page you will need to host the generated documentation somewhere for potential users to read. This guide will describe how to setup automatic updates for your package docs using the Travis build service and GitHub Pages. This is the same approach used by this package to host its own docs – the docs you're currently reading.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Following this guide should be the <em>final</em> step you take after you are comfortable with the syntax and build process used by <code>Documenter.jl</code>. It is recommended that you only proceed with the steps outlined here once you have successfully managed to build your documentation locally with Documenter.</p><p>This guide assumes that you already have <a href="https://github.com/">GitHub</a> and <a href="https://travis-ci.com/">Travis</a> accounts setup. If not then go set those up first and then return here.</p></div></div><h2><a class="nav-anchor" href="#Overview-1" id="Overview-1">Overview</a></h2><p>Once set up correctly, the following will happen each time you push new updates to your package repository:</p><ul><li>Travis buildbots will start up and run your package tests in a "Test" stage.</li><li>After the Test stage completes, a single bot will run a new "Documentation" stage, which will build the documentation.</li><li>If the documentation is built successfully, the bot will attempt to push the generated HTML pages back to GitHub.</li></ul><p>Note that the hosted documentation does not update when you make pull requests; you see updates only when you merge to <code>master</code> or push new tags.</p><p>The following sections outline how to enable this for your own package.</p><h2><a class="nav-anchor" href="#SSH-Deploy-Keys-1" id="SSH-Deploy-Keys-1">SSH Deploy Keys</a></h2><p>Deploy keys provide push access to a <em>single</em> repository, to allow secure deployment of generated documentation from Travis to GitHub. The SSH keys can be generated with the <code>Travis.genkeys</code> from the <a href="https://github.com/JuliaDocs/DocumenterTools.jl">DocumenterTools</a> package.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>You will need several command line programs (<code>which</code>, <code>git</code> and <code>ssh-keygen</code>) to be installed for the following steps to work. If DocumenterTools fails, please see the the <a href="walkthrough/#SSH-Deploy-Keys-Walkthrough-1">SSH Deploy Keys Walkthrough</a> section for instruction on how to generate the keys manually (including in Windows).</p></div></div><p>Install and load DocumenterTools with</p><pre><code class="language-none">pkg&gt; add DocumenterTools</code></pre><pre><code class="language-julia-repl">julia&gt; using DocumenterTools</code></pre><p>Then call the <a href="../../lib/public/#DocumenterTools.Travis.genkeys"><code>Travis.genkeys</code></a> function as follows:</p><pre><code class="language-julia-repl">julia&gt; using MyPackage
julia&gt; Travis.genkeys(user="MyUser", repo="git@github.com:MyUser/MyPackage.jl.git")</code></pre><p>where <code>MyPackage</code> is the name of the package you would like to create deploy keys for and <code>MyUser</code> is your GitHub username. Note that the keyword arguments are optional and can be omitted.</p><p>If the package is checked out in development mode with <code>] dev MyPackage</code>, you can also use <code>Travis.genkeys</code> as follows:</p><pre><code class="language-julia-repl">julia&gt; using MyPackage
julia&gt; Travis.genkeys(MyPackage)</code></pre><p>where <code>MyPackage</code> is the package you would like to create deploy keys for. The output will look similar to the text below:</p><pre><code class="language-none">INFO: add the public key below to https://github.com/USER/REPO/settings/keys
      with read/write access:

[SSH PUBLIC KEY HERE]

INFO: add a secure environment variable named 'DOCUMENTER_KEY' to
      https://travis-ci.org/USER/REPO/settings with value:

[LONG BASE64 ENCODED PRIVATE KEY]</code></pre><p>Follow the instructions that are printed out, namely:</p><ol><li><p>Add the public ssh key to your settings page for the GitHub repository that you are setting up by following the <code>.../settings/key</code> link provided. Click on <strong><code>Add deploy key</code></strong>, enter the name <strong><code>documenter</code></strong> as the title, and copy the public key into the <strong><code>Key</code></strong> field. Check <strong><code>Allow write access</code></strong> to allow Documenter to commit the generated documentation to the repo.</p></li><li><p>Next add the long private key to the Travis settings page using the provided link. Again note that you should include <strong>no whitespace</strong> when copying the key. In the <strong><code>Environment Variables</code></strong> section add a key with the name <code>DOCUMENTER_KEY</code> and the value that was printed out. <strong>Do not</strong> set the variable to be displayed in the build log. Then click <strong><code>Add</code></strong>.</p><div class="admonition warning"><div class="admonition-title">Security warning</div><div class="admonition-text"><p>To reiterate: make sure that the "Display value in build log" option is <strong>OFF</strong> for the variable, so that it does not get printed when the tests run. This base64-encoded string contains the <em>unencrypted</em> private key that gives full write access to your repository, so it must be kept safe.  Also, make sure that you never expose this variable in your tests, nor merge any code that does. You can read more about Travis environment variables in <a href="https://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings">Travis User Documentation</a>.</p></div></div></li></ol><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>There are more explicit instructions for adding the keys to GitHub and Travis in the <a href="walkthrough/#SSH-Deploy-Keys-Walkthrough-1">SSH Deploy Keys Walkthrough</a> section of the manual.</p></div></div><h2><a class="nav-anchor" href="#.travis.yml-Configuration-1" id=".travis.yml-Configuration-1"><code>.travis.yml</code> Configuration</a></h2><p>To tell Travis that we want a new build stage we can add the following to the <code>.travis.yml</code> file:</p><pre><code class="language-yaml">jobs:
  include:
    - stage: "Documentation"
      julia: 1.0
      os: linux
      script:
        - julia --project=docs/ -e 'using Pkg; Pkg.develop(PackageSpec(path=pwd()));
                                               Pkg.instantiate()'
        - julia --project=docs/ docs/make.jl
      after_success: skip</code></pre><p>where the <code>julia:</code> and <code>os:</code> entries decide the worker from which the docs are built and deployed. In the example above we will thus build and deploy the documentation from a linux worker running Julia 1.0. For more information on how to setup a build stage, see the Travis manual for <a href="https://docs.travis-ci.com/user/build-stages">Build Stages</a>.</p><p>The three lines in the <code>script:</code> section do the following:</p><ol><li>Instantiate the doc-building environment (i.e. <code>docs/Project.toml</code>, see below).</li><li>Install your package in the doc-build environment.</li><li>Run the docs/make.jl script, which builds and deploys the documentation.</li></ol><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>If your package has a build script you should call <code>Pkg.build("PackageName")</code> after the call to <code>Pkg.develop</code> to make sure the package is built properly.</p></div></div><p>The doc-build environment <code>docs/Project.toml</code> includes Documenter and other doc-build dependencies your package might have. If Documenter is the only dependency, then the <code>Project.toml</code> should include the following:</p><pre><code class="language-toml">[deps]
Documenter = "e30172f5-a6a5-5a46-863b-614d45cd2de4"

[compat]
Documenter = "~0.20"</code></pre><p>Note that it is recommended that you have a <code>[compat]</code> section, like the one above, in your <code>Project.toml</code> file, which would restrict Documenter's version that gets installed when the build runs. This is to make sure that your builds do not start failing suddenly due to a new major release of Documenter, which may include breaking changes. However, it also means that you will not get updates to Documenter automatically, and hence need to upgrade Documenter's major version yourself.</p><h2><a class="nav-anchor" href="#The-deploydocs-Function-1" id="The-deploydocs-Function-1">The <code>deploydocs</code> Function</a></h2><p>At the moment your <code>docs/make.jl</code> file probably only contains</p><pre><code class="language-julia">using Documenter, PACKAGE_NAME

makedocs()</code></pre><p>We'll need to add an additional function call to this file after <a href="../../lib/public/#Documenter.makedocs"><code>makedocs</code></a> which would perform the deployment of the docs to the <code>gh-pages</code> branch. Add the following at the end of the file:</p><pre><code class="language-julia">deploydocs(
    repo = "github.com/USER_NAME/PACKAGE_NAME.jl.git",
)</code></pre><p>where <code>USER_NAME</code> and <code>PACKAGE_NAME</code> must be set to the appropriate names. Note that <code>repo</code> should not specify any protocol, i.e. it should not begin with <code>https://</code> or <code>git@</code>.</p><p>See the <a href="../../lib/public/#Documenter.deploydocs"><code>deploydocs</code></a> function documentation for more details.</p><h2><a class="nav-anchor" href="#.gitignore-1" id=".gitignore-1"><code>.gitignore</code></a></h2><p>Add the following to your package's <code>.gitignore</code> file</p><pre><code class="language-none">docs/build/</code></pre><p>These are needed to avoid committing generated content to your repository.</p><h2><a class="nav-anchor" href="#gh-pages-Branch-1" id="gh-pages-Branch-1"><code>gh-pages</code> Branch</a></h2><p>By default, Documenter pushes documentation to the <code>gh-pages</code> branch. If the branch does not exist it will be created automatically by <a href="../../lib/public/#Documenter.deploydocs"><code>deploydocs</code></a>. If does exist then Documenter simply adds an additional commit with the built documentation. You should be aware that Documenter may overwrite existing content without warning.</p><p>If you wish to create the <code>gh-pages</code> branch manually the that can be done following <a href="https://coderwall.com/p/0n3soa/create-a-disconnected-git-branch">these instructions</a>.</p><h2><a class="nav-anchor" href="#Documentation-Versions-1" id="Documentation-Versions-1">Documentation Versions</a></h2><p>The documentation is deployed as follows:</p><ul><li><p>Documentation built for a tag <code>vX.Y.Z</code> will be stored in a folder <code>vX.Y.Z</code>.</p></li><li><p>Documentation built from the <code>devbranch</code> branch (<code>master</code> by default) is stored a folder determined by the <code>devurl</code> keyword to <a href="../../lib/public/#Documenter.deploydocs"><code>deploydocs</code></a> (<code>dev</code> by default).</p></li></ul><p>Which versions that will show up in the version selector is determined by the <code>versions</code> argument to <a href="../../lib/public/#Documenter.deploydocs"><code>deploydocs</code></a>.</p><p>Unless a custom domain is being used, the pages are found at:</p><pre><code class="language-none">https://USER_NAME.github.io/PACKAGE_NAME.jl/vX.Y.Z
https://USER_NAME.github.io/PACKAGE_NAME.jl/dev</code></pre><p>By default Documenter will create a link called <code>stable</code> that points to the latest release</p><pre><code class="language-none">https://USER_NAME.github.io/PACKAGE_NAME.jl/stable</code></pre><p>It is recommended to use this link, rather then the versioned links, since it will be updated with new releases.</p><p>Once your documentation has been pushed to the <code>gh-pages</code> branch you should add links to your <code>README.md</code> pointing to the <code>stable</code> (and perhaps <code>dev</code>) documentation URLs. It is common practice to make use of "badges" similar to those used for Travis and AppVeyor build statuses or code coverage. Adding the following to your package <code>README.md</code> should be all that is necessary:</p><pre><code class="language-markdown">[![](https://img.shields.io/badge/docs-stable-blue.svg)](https://USER_NAME.github.io/PACKAGE_NAME.jl/stable)
[![](https://img.shields.io/badge/docs-dev-blue.svg)](https://USER_NAME.github.io/PACKAGE_NAME.jl/dev)</code></pre><p><code>PACKAGE_NAME</code> and <code>USER_NAME</code> should be replaced with their appropriate values. The colour and text of the image can be changed by altering <code>docs-stable-blue</code> as described on <a href="https://shields.io">shields.io</a>, though it is recommended that package authors follow this standard to make it easier for potential users to find documentation links across multiple package README files.</p><hr/><p><strong>Final Remarks</strong></p><p>That should be all that is needed to enable automatic documentation building. Pushing new commits to your <code>master</code> branch should trigger doc builds. <strong>Note that other branches do not trigger these builds and neither do pull requests by potential contributors.</strong></p><p>If you would like to see a more complete example of how this process is setup then take a look at this package's repository for some inspiration.</p><footer><hr/><a class="previous" href="../latex/"><span class="direction">Previous</span><span class="title"><span>$\LaTeX$</span> Syntax</span></a><a class="next" href="walkthrough/"><span class="direction">Next</span><span class="title">SSH Deploy Keys Walkthrough</span></a></footer></article></body></HTML>